/* "Kalypto - Replace Radio/Checkbox Inputs" MIT license, LocalPCGuy, http://localpcguy.github.com/Kalypto */
(function(a,b){a.kalypto=function(i,j){var b=this,c=a(i),h={toggleClass:"toggle",checkedClass:"checked",hideInputs:true,copyInputClasses:true,dataLabel:c.data("label")||"",checkedEvent:"k_checked",uncheckedEvent:"k_unchecked",elBuiltEvent:"k_elbuilt",customClasses:""},g,e=function(){if(c.next().hasClass(b.settings.toggleClass))return;c.after(function(){var a=b.settings.toggleClass;if(b.settings.copyInputClasses){var d=c.attr("class");if(d)a+=" "+d}if(b.settings.customClasses.length)a+=" "+b.settings.customClasses;return c.is(":checked")?"<a href='#' class='"+a+" "+b.settings.checkedClass+"'>"+b.settings.dataLabel+"</a>":"<a href='#' class='"+a+"'>"+b.settings.dataLabel+"</a>"});b.settings.hideInputs&&c.hide();g=c.next();c.trigger(b.settings.elBuiltEvent)},k,d=function(f){var e=c.attr("type")==="radio"?a('input[name="'+c.attr("name")+'"]'):c,d=function(){c.attr("type")==="radio"&&e.each(function(e,d){var c=a(d);c.next().removeClass(b.settings.checkedClass);!c.is(":checked")&&b.lastClickedEl!==c.next().get(0)&&c.trigger(b.settings.uncheckedEvent)});if(c.is(":checked"))c.trigger(b.settings.checkedEvent);else c.trigger(b.settings.uncheckedEvent);c.next().toggleClass(b.settings.checkedClass)};if(this.tagName!=="INPUT"){f.preventDefault();b.lastClickedEl=this;c.trigger("click")}else setTimeout(d,0)},f=function(){c.next().bind("click",d);c.bind("change",d)};b.settings={};b.init=function(){b.settings=a.extend({},h,j);e();f()};b.init()};a.fn.kalypto=function(c){return this.each(function(){if(b===a(this).data("kalypto")){var d=new a.kalypto(this,c);a(this).data("kalypto",d)}})}})(jQuery)